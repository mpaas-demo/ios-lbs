!function(){function e(e){if(e)return e.replace(/^\s*|\s*$/,"")}var t,n,r={},a=[],o={createAnimationCls:function(e){if("string"==typeof e&&!r[e]){var t=document.createElement("style");t.type="text/css",t.rel="stylesheet",t.appendChild(document.createTextNode(e));var n=document.head||document.documentElement;n&&n.insertBefore(t,n.firstChild),r[e]="1"}},getScreenScale:function(){if(!t){var e,n=document.querySelector("meta[name=viewport]");n&&(e=n.getAttribute("content"));var r="0.33";if(window.devicePixelRatio&&window.devicePixelRatio>2&&(r="0.4235033"),e){var a=e.split(",");for(var o in a){var i=a[o].split("=");if(i&&i.length>1){var d=i[0];if(/initial-scale/.test(d)){r=i[1];break}}}}t=r}return t},renderV2Internal:function(t,n,r){var a={frame:{},data:{},props:{}};a.id=e(t.getAttribute("id")),a.type=e(t.getAttribute("nbcomponent-type")),a.scale=o.getScreenScale();var i=t.getBoundingClientRect();a.frame.width=i.width,a.frame.height=i.height;var d=0;document.documentElement&&document.documentElement.scrollLeft?d=document.documentElement.scrollLeft:document.body&&(d=document.body.scrollLeft);var c=i.left+d;a.frame.x=c;var l=0;document.documentElement&&document.documentElement.scrollTop?l=document.documentElement.scrollTop:document.body&&(l=document.body.scrollTop);var m=i.top+l;a.frame.y=m,""===t.style.zIndex?a.frame.zindex="-9998":a.frame.zindex=t.style.zIndex,""===t.style.zIndex&&""!=t.parentElement.style.zIndex&&(a.frame.zindex=(parseInt(t.parentElement.style.zIndex)+1).toString());var s=e(t.getAttribute("nbcomponent-data"));if(s)try{var u=JSON.parse(s);for(var f in u)a.data[f]=u[f]}catch(e){}if(r){var p=window.getComputedStyle(t);p&&p.fontFamily&&(a.data.NBFONTFAMILY=p.fontFamily),a.data.NBPARENTELEMENTID=r}t.previousSibling&&t.previousSibling.id&&(a.data.NBPREVIOUSSIBLINGID=t.previousSibling.id);var v=e(t.getAttribute("nbcomponent-props"));if(v)try{u=JSON.parse(v);for(var f in u)a.props[f]=u[f]}catch(e){}n.push(a)},renderV2:function(e){var t=[],n=document.getElementById(e);if(n){var r=n.parentNode,a=null;r&&r.id&&(a=r.id),this.traverseTree(n,t,a)}return JSON.stringify(t)},hasClass:function(e,t){for(var n=e.className.split(/\s+/),r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},addCls:function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},traverseTree:function(t,n,r){this.hasClass(t,"nbcomponent")&&this.renderV2Internal(t,n,r);var a=t.getAttribute("nbcomponent-type");if(a&&"string"==typeof a&&(a=e(a)),t.children&&!(t.children.length<=0)&&("string"!=typeof a||"image"!=a&&"text"!=a))for(var o=0;o<t.children.length;o++)this.traverseTree(t.children[o],n,t.id)},getElementInfoById:function(t){var n=Array.prototype.slice.call(document.querySelectorAll("object[type=application\\/view]")),r={};if(n)for(var a in n){var o=Array.prototype.slice.call(n[a].childNodes);if(o)for(var i in o){var d=o[i],c=d.tagName;if(c&&/param/i.test(c)){var l=e(d.getAttribute("name")),m=e(d.getAttribute("value"));l&&m&&(r[l]=m)}}if(r.id&&r.id==t){r.element=n[a];break}}return r},createTargetAnimationWithId:function(e){return".nbcomponentanimation-%@{-webkit-animation:nbcomponentopacity%@ 100s infinite linear}@-webkit-keyframes nbcomponentopacity%@{0%{-webkit-transform:translateZ(0)}100%{-webkit-transform:translateZ(0)}}".replace(/%@/g,e)},addListenerForDomChange:function(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t=document.querySelector("body");new e(function(e){for(var t=0;t<a.length;t++){var n=a[t];"string"==typeof n&&window.AlipayJSBridge&&AlipayJSBridge.call("NBComponent.setData",{element:n,NEBULAFRAMEDATA:JSON.parse(o.render(n))},function(){})}}).observe(t,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["class","style"]})},render:function(e){var t=this.getElementInfoById(e);if(t&&t.element){o.createAnimationCls(o.createTargetAnimationWithId(e));var n=t.element;o.addCls(n,"nbcomponentanimation-"+e);var r=t.type,i={id:e,scale:o.getScreenScale(),type:r,frame:{},data:{}};i.clsName=n.className;var d=n.getBoundingClientRect();i.frame.width=d.width,i.frame.height=d.height;var c=0;document.documentElement&&document.documentElement.scrollLeft?c=document.documentElement.scrollLeft:document.body&&(c=document.body.scrollLeft);var l=n.getBoundingClientRect().left+c;i.frame.x=l;var m=0;document.documentElement&&document.documentElement.scrollTop?m=document.documentElement.scrollTop:document.body&&(m=document.body.scrollTop);var s=n.getBoundingClientRect().top+m;i.frame.y=s;var u=t.data;if(u)try{var f=JSON.parse(u);for(var p in f)i.data[p]=f[p]}catch(e){}try{for(var p in t)/^(?:data|id|type|element)$/.test(p)||(i.data[p]=t[p])}catch(e){}return a&&-1==a.indexOf(e+"")&&a.push(e+""),JSON.stringify(i)}}};n=function(){o.addListenerForDomChange()},/complete|loaded|interactive/.test(document.readyState)?setTimeout(function(){n()},1):document.defaultView.addEventListener("DOMContentLoaded",function(){n()},!1),window.componentsManager=o}();